<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
		<title>Adamia 3D Fish Demo</title>
		
		<link rel="stylesheet" type="text/css" href="http://yui.yahooapis.com/2.7.0/build/reset-fonts/reset-fonts.css"> 
		<style type="text/css">
			body {
				margin: 0;
				padding: 0;
			}
			#viewport {
				background-color: #000000;
				width: 400px;
				height: 300px;
				position: relative;
			}
		</style>
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="../../js/adamia3d-math.js" type="text/javascript" charset="utf-8"></script>
		<script src="../../js/adamia3d.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
			function do3d() {
				var v = adamia3d.init('viewport');
				
				var mesh;
					
				a3d.MeshLoader.loadOBJ('piranha.obj', function(meshes) {
					mesh = meshes[0];
					mesh.addTextureUrl('piranhaSkin.jpg');
					//mesh.moveBy(0, 0, 5);
					//mesh.scaleBy(250, 250, 250);
					mesh.scaleBy(150, 150, 150);
					mesh.moveTo(0, 0, 0);
					//mesh.scaleBy(250, 250, 250);
					v.scene.addChild(mesh);
					
					//setTimeout(function() {mesh.debugUVs();}, 500);
				});
				
				
				v.onTick(function(dt) {
					if (mesh) mesh.rotY(2.5*dt);
				});
				
				$('#render-options').find('input[name=a3d-projection]').click(function() {
					var proj = $(this).val();
					
					v.camera.projection = (proj == 'persp') ? a3d.Render.Projection.PERSP : a3d.Render.Projection.ORTHO;
					v.resize();
				});
				
				 $('#viewport').mousemove(function(e){
				      var pageCoords = "( " + e.pageX + ", " + e.pageY + " )";
				      var clientCoords = "( " + e.clientX + ", " + e.clientY + " )";
				      $("span:first").text("( e.pageX, e.pageY ) - " + pageCoords);
				      $("span:last").text("( e.clientX, e.clientY ) - " + clientCoords);
				 });
				
			}
		</script>
	</head>
	<body>
		<div id="viewport"></div>
		<div id="render-options">
			<input type="radio" name="a3d-projection" value="ortho" checked /> Orthographic<br/><br />
			<input type="radio" name="a3d-projection" value="persp" /> Perspective<br/>
		</div>
		<script type="text/javascript">
			do3d();
		</script>
		<span>Move the mouse over the div.</span>
	    <span> </span>
		
		
	</body>
</html>
